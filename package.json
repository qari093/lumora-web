{
  "name": "lumora-web",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "postinstall": "npx prisma generate",
    "vercel:build": "prisma generate && next build",
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "eslint",
    "typecheck": "tsc -p tsconfig.json --noEmit",
    "test": "vitest run --reporter=basic",
    "game:dev": "next dev -p 3000",
    "game:check": "npm run lint && npm run typecheck",
    "game:build": "npm run build",
    "cc:scan": "node ./scripts/cc-scan.js",
    "cc:report": "node ./scripts/cc-report.js",
    "cc:tower": "npm run game:check && npm run test && npm run game:build && npm run cc:scan && npm run cc:report",
    "format": "prettier --write .",
    "format:check": "prettier --check .",
    "ci": "npm ci && (npm run lint || true) && npm run typecheck && npm run build",
    "deploy:vercel": "echo Vercel\\ import\\ (vercel.json)",
    "deploy:render": "echo Render\\ deploy\\ (render.yaml)",
    "health": "curl -s http://127.0.0.1:3000/api/admin/health || true",
    "backup": "./scripts/backup.sh",
    "backup:rotate": "KEEP=14 ./scripts/rotate_backups.sh backups",
    "metrics": "curl -s -H 'x-api-key: \\${LUMORA_API_KEY}' http://127.0.0.1:3000/api/admin/metrics | jq .",
    "reindex": "curl -fsS -X POST http://localhost:3000/api/music/reindex || true",
    "ingest": "curl -fsS -X POST http://localhost:3000/api/trends/ingest || true",
    "evolve": "node scripts/evolve.js",
    "dev:all": "concurrently -k -n WEB,EVOLVE \"next dev --turbopack\" \"node scripts/evolve.js\"",
    "video:make": "node scripts/video/zen-engine.mjs --manifest=data/video/manifest.jsonl --concurrency=2",
    "video:auto": "node scripts/video/auto.mjs --count=100 --concurrency=4",
    "video:auto:10": "node scripts/video/auto.mjs --count=10 --concurrency=2",
    "video:reindex": "node scripts/video/post.mjs --reindex",
    "video:news": "node scripts/video/news-auto.mjs --count=12 --concurrency=3 --langs=en,de,ur",
    "video:news:20": "node scripts/video/news-auto.mjs --count=20 --concurrency=4 --langs=en,de,ur,es,fr",
    "prisma:seed": "tsx prisma/seed.ts",
    "worker:gen": "ts-node --transpile-only src/workers/video-generator.ts",
    "svgo:sprite": "svgo -c svgo.config.json -i public/sprite.svg -o public/sprite.svg",
    "test:run": "vitest run",
    "coverage": "vitest run --coverage",
    "test:lumaspace": "bash scripts/integration/phase25.step13.sh",
    "test:gmar-universe": "vitest run tests/gmar.echoForge.core.test.ts tests/gmar.echoForge.mapper.test.ts tests/gmar.echoForge.recordingBuffer.test.ts tests/gmar.echoForge.shardIntel.test.ts tests/gmar.echoForge.threeBrain.test.ts tests/gmar.echoForge.scoringLabels.test.ts tests/gmar.echoForge.autoCaption.test.ts tests/gmar.echoForge.gallery.test.ts tests/gmar.echoForge.captureUX.test.ts tests/gmar.echoForge.multiShare.test.ts tests/gmar.echoForge.viralTier1.test.ts tests/gmar.echoForge.viralTier2.test.ts tests/gmar.echoForge.viralTier3.test.ts tests/gmar.echoForge.viralTier4.test.ts tests/gmar.echoForge.viralTier5.test.ts tests/gmar.universe.eventBus.test.ts tests/gmar.universe.emotionBridge.test.ts tests/gmar.universe.fypSync.test.ts tests/gmar.universe.emmlSync.test.ts tests/gmar.universe.avatarJourneySync.test.ts tests/gmar.universe.memoryVaultSync.test.ts tests/gmar.universe.treasureWorlds.test.ts tests/gmar.universe.treasureSpawnEngine.test.ts tests/gmar.universe.universeSyncOrchestrator.test.ts",
    "post:observability": "node tests/observability.post.cjs",
    "post:launch-check": "node tests/public.launch.cjs",
    "post:feedback-loop": "node tests/user.feedback.sentiment.cjs",
    "post:adaptive-optimization": "node tests/adaptive.optimization.cjs",
    "post:health-all": "npm run post:observability && npm run post:launch-check && npm run post:feedback-loop && npm run post:adaptive-optimization",
    "test:gmar-core": "vitest run tests/gmar.*.test.ts",
    "test:gmar-monetization": "vitest run tests/gmar.telemetry.revenueEvents.test.ts tests/gmar.telemetry.revenueBus.test.ts tests/gmar.telemetry.metricsSink.test.ts tests/gmar.telemetry.revenueHelpers.test.ts tests/gmar.runtime.monetizationFacade.test.ts",
    "gmar:gate:monetization": "npm run test:gmar-monetization && npm run test:gmar-offers && npm run test:gmar-zendoro",
    "gmar:gate:full": "bash ./scripts/gmar-health-gate.sh",
    "test:gmar-zendoro": "vitest run tests/gmar.zendoro.bridge.test.ts tests/gmar.zendoro.localAdapter.test.ts tests/gmar.zendoro.pipeline.test.ts",
    "test:gmar-offers": "vitest run tests/gmar.economy.products.test.ts tests/gmar.economy.priceMapping.test.ts tests/gmar.economy.offers.test.ts",
    "test:gmar-monetization-api": "vitest run tests/gmar.api.monetizationSnapshot.test.ts",
    "gmar:dev:snapshot-preview": "echo \"GMAR snapshot preview â†’ http://localhost:3000/gmar/monetization/snapshot-preview\"",
    "gmar:gate:monetization-all": "npm run gmar:gate:monetization && npm run test:gmar-monetization-api",
    "test:gmar-monetization-manifest": "vitest run tests/cc-tower.monetization.manifest.test.ts",
    "test:cc-tower-monetization-ready": "vitest run tests/cc-tower.api.monetizationReady.test.ts",
    "test:integration": "vitest run tests/state.store.test.ts tests/state.store.persist.test.ts tests/state.store.migration.test.ts tests/gmar.runtime.runner.test.ts tests/gmar.runtime.events.test.ts tests/gmar.runtime.rewards.test.ts tests/gmar.runtime.loot.test.ts tests/gmar.loadTestHarness.test.ts tests/lumaspace.sync.test.ts tests/cc-tower.api.monetizationReady.test.ts tests/cc-tower.monetization.manifest.test.ts",
    "soft-launch:build": "SOFT_LAUNCH_MODE=1 NODE_ENV=production npx next build",
    "soft-launch:start": "SOFT_LAUNCH_MODE=1 NODE_ENV=production PORT=${PORT:-3000} npx next start",
    "soft-launch:smoke": "PORT=${PORT:-3000} SOFT_LAUNCH_MODE=1 node scripts/soft-launch-smoke.mjs",
    "soft-launch:load": "PORT=${PORT:-3000} SOFT_LAUNCH_MODE=1 node scripts/soft-launch-load.mjs",
    "soft-launch:gate": "SOFT_LAUNCH_MODE=1 node scripts/soft-launch-gate.mjs",
    "mom:soft-launch:status": "bash scripts/mom/soft-launch-toolbelt.sh status",
    "mom:soft-launch:panic": "bash scripts/mom/soft-launch-panic.sh",
    "mom:soft-launch:telemetry": "bash scripts/mom/soft-launch-telemetry.sh",
    "mom:soft-launch:runtime-path": "bash scripts/mom/soft-launch-runtime-path.sh",
    "mom:soft-launch:guards": "bash scripts/mom/soft-launch-guards.sh",
    "softlaunch:security": "bash scripts/softlaunch/security-suite.sh",
    "docs:runtime-health": "node scripts/mom/runtime-health-docs.cjs",
    "ci:docs:runtime-health": "sh scripts/ci/mom-runtime-health-check.sh",
    "docs:softlaunch-suite": "node scripts/mom/softlaunch-docs-suite.cjs",
    "docs:softlaunch-all": "sh scripts/mom/softlaunch-docs-all.sh",
    "docs:softlaunch-status": "node scripts/mom/softlaunch-docs-status.cjs",
    "ci:softlaunch-docs": "npm run docs:softlaunch-all && npm run docs:softlaunch-status && npm run docs:softlaunch-fresh && npm run docs:softlaunch-heartbeat && npm run docs:softlaunch-status-json && npm run docs:softlaunch-ops-runbook-check && npm run docs:softlaunch-ops-kit-check && npm run docs:softlaunch-ops-cheatline-scan && npm run docs:softlaunch-ops-all-overview-check && npm run docs:softlaunch-docs-ci-wrapper-check && npm run docs:softlaunch-ci-quickstart-check && npm run docs:softlaunch-ci-meta-check",
    "docs:softlaunch-fresh": "node scripts/mom/softlaunch-docs-freshness.cjs",
    "docs:softlaunch-heartbeat": "node scripts/mom/softlaunch-heartbeat.cjs",
    "docs:softlaunch-pulse": "sh scripts/mom/softlaunch-pulse.sh",
    "guard:softlaunch-docs": "npm run docs:softlaunch-pulse && npm run docs:softlaunch-docs-ci-overview-check && npm run docs:softlaunch-ci-quickstart-check && npm run docs:softlaunch-ci-meta-check",
    "docs:softlaunch-status-json": "node scripts/mom/softlaunch-docs-status-json.cjs",
    "docs:softlaunch-status-api": "sh scripts/mom/softlaunch-docs-status-smoke.sh",
    "docs:softlaunch-status-cli": "sh scripts/mom/softlaunch-docs-status-cli.sh",
    "docs:softlaunch-ops-runbook-check": "node scripts/mom/softlaunch-ops-runbook-check.cjs",
    "guard:softlaunch-all": "sh scripts/guard/softlaunch-all.sh && npm run docs:softlaunch-ci-quickstart-check && npm run docs:softlaunch-ci-meta-check",
    "docs:softlaunch-ops-kit-check": "node scripts/mom/softlaunch-ops-kit-check.cjs",
    "docs:softlaunch-ops-meta-check": "npm run docs:softlaunch-ops-runbook-check && npm run docs:softlaunch-ops-kit-check",
    "docs:softlaunch-ops-cheatline-scan": "sh scripts/mom/softlaunch-ops-cheatline-scan.sh",
    "docs:softlaunch-ops-all": "npm run docs:softlaunch-ops-meta-check && npm run docs:softlaunch-ops-cheatline-scan && npm run docs:softlaunch-ops-local-helper-check && npm run docs:softlaunch-ops-all-overview-check",
    "docs:softlaunch-ops-local-helper-check": "node scripts/mom/softlaunch-ops-local-helper-check.cjs",
    "docs:softlaunch-ops-all-overview-check": "node scripts/mom/softlaunch-ops-all-overview-check.cjs",
    "docs:softlaunch-docs-ci-wrapper-check": "node scripts/mom/softlaunch-docs-ci-wrapper-check.cjs",
    "docs:softlaunch-docs-ci-overview-check": "node scripts/mom/softlaunch-docs-ci-overview-check.cjs",
    "docs:softlaunch-ci-quickstart-check": "node scripts/mom/softlaunch-ci-quickstart-wiring-check.cjs",
    "docs:softlaunch-ci-meta-check": "sh scripts/mom/softlaunch-ci-meta-check.sh",
    "mom:drift-detector-finalize": "node scripts/mom/drift-detector-finalize.cjs",
    "mom:ranking-readiness-index": "node scripts/mom/ranking-readiness-index.cjs",
    "mom:notification-readiness-index": "node scripts/mom/notification-readiness-index.cjs",
    "mom:wallet-readiness-index": "node scripts/mom/wallet-readiness-index.cjs",
    "mom:emml-readiness-index": "node scripts/mom/emml-readiness-index.cjs",
    "mom:compliance-readiness-index": "node scripts/mom/compliance-readiness-index.cjs",
    "mom:safety-readiness-index": "node scripts/mom/safety-readiness-index.cjs",
    "mom:antiabuse-readiness-index": "node scripts/mom/antiabuse-readiness-index.cjs",
    "mom:ratelimit-readiness-index": "node scripts/mom/ratelimit-readiness-index.cjs",
    "mom:health-card-generate": "node scripts/mom/health-card-generate.cjs",
    "guard:softlaunch-healthcards": "sh scripts/guard/softlaunch-healthcards.sh",
    "docs:softlaunch-ci-meta-docs-check": "node scripts/mom/softlaunch-ci-meta-docs-check.cjs",
    "dev-notes:refresh": "scripts/softlaunch/dev-notes-cli.sh refresh",
    "dev-notes:status": "scripts/softlaunch/dev-notes-cli.sh status",
    "dev-notes:check": "scripts/softlaunch/dev-notes-check.sh",
    "health-cards:status": "scripts/softlaunch/health-cards-status.sh",
    "softlaunch:ops": "bash scripts/softlaunch-ops-check.sh",
    "guard:registry:extract": "node scripts/softlaunch-registry-json-extract.mjs",
    "guard:registry:extract:cli": "sh scripts/guard-registry-extract.sh",
    "guard:registry:test": "sh scripts/guard-registry-extract.test.sh",
    "guard:safetynet:open": "sh scripts/guardrail-operator-open.sh",
    "guard:safetynet:health": "sh scripts/guardrail-safetynet-health.sh",
    "guard:safetynet:autofix": "sh scripts/guardrail-safetynet-autofix.sh",
    "guard:safetynet:all": "sh scripts/guardrail-safetynet-all.sh",
    "test:emml-ci": "node scripts/emml.seed.cjs && vitest run tests/emml --passWithNoTests",
    "test:health": "vitest run --dir tests/health",
    "test:health:file": "vitest run tests/health/middleware_health.test.ts",
    "test:health:dir": "vitest run --dir tests/health",
    "test:health:smoke": "vitest run tests/health/health_smoke.test.ts",
    "health:probe": "sh scripts/health/probe_health_endpoints.sh",
    "ci:health": "sh scripts/health/ci_gate.sh",
    "brand:guard": "sh scripts/brand/no_touch_blade_guard.step13.sh",
    "ops:private-smoke": "sh ops/_runbooks/private_mode_smoke.sh",
    "ops:private-smoke:out": "sh ops/_runbooks/private_mode_smoke.sh > ops/_analysis/private_mode_smoke.latest.out 2>&1",
    "final:test": "sh scripts/final/smoke.sh",
    "db:seed": "npx prisma db seed",
    "persona:gate": "sh scripts/persona/ci_gate.sh",
    "live:gate": "sh scripts/live/ci_gate.sh",
    "live:smoke": "sh scripts/live/restart_dev_and_smoke.sh",
    "test:live": "vitest run tests/live",
    "ci:live": "npm run -s with:node20 -- sh scripts/health/live_ci_gate.sh",
    "health:live": "sh scripts/live/health_macro.sh",
    "guard:no-heredoc": "sh scripts/live/no_heredoc_guard.sh",
    "live:contracts": "sh scripts/live/contract_suite.sh",
    "guard:live:no-heredoc": "sh scripts/live/no_heredoc_guard.sh",
    "ci:live:gate": "sh scripts/live/ci_gate.sh",
    "guard:node": "sh scripts/guard/check_node_engine.sh",
    "boot:node20": "sh scripts/guard/nvm_use_node20.sh",
    "dev:node20": "npm run -s with:node20 -- next dev",
    "with:node20": "sh scripts/guard/with_node20.sh"
  },
  "dependencies": {
    "@auth/prisma-adapter": "^2.10.0",
    "@aws-sdk/client-s3": "^3.901.0",
    "@aws-sdk/s3-request-presigner": "^3.901.0",
    "@livekit/components-react": "^2.9.14",
    "@livekit/components-styles": "^1.1.6",
    "@pixi/graphics-extras": "^7.4.3",
    "@pixi/sound": "^6.0.1",
    "@react-three/drei": "^10.7.6",
    "@react-three/fiber": "^9.3.0",
    "@react-three/postprocessing": "^3.0.4",
    "@simplewebauthn/browser": "^9.0.1",
    "@simplewebauthn/server": "^9.0.3",
    "@stripe/stripe-js": "^8.1.0",
    "@supabase/supabase-js": "^2.57.4",
    "apexcharts": "^5.3.6",
    "archiver": "^7.0.1",
    "argon2": "^0.44.0",
    "bcrypt": "^6.0.0",
    "classnames": "^2.5.1",
    "framer-motion": "^12.23.24",
    "hls.js": "1.6.14",
    "howler": "^2.2.4",
    "ioredis": "^5.4.1",
    "jose": "^6.1.0",
    "js-cookie": "^3.0.5",
    "livekit-client": "^2.15.7",
    "livekit-server-sdk": "^2.13.3",
    "lru-cache": "^11.2.2",
    "lucide-react": "^0.544.0",
    "meilisearch": "^0.53.0",
    "minisearch": "^7.2.0",
    "nanoid": "^5.1.6",
    "next": "15.5.6",
    "next-auth": "^4.24.11",
    "next-themes": "^0.4.6",
    "otplib": "^12.0.1",
    "pg": "^8.16.3",
    "pixi.js": "^8.13.2",
    "react": "19.1.0",
    "react-apexcharts": "^1.8.0",
    "react-dom": "19.1.0",
    "react-infinite-scroll-component": "^6.1.0",
    "rss-parser": "^3.13.0",
    "socket.io": "^4.8.1",
    "socket.io-client": "^4.8.1",
    "three": "^0.180.0",
    "undici": "^7.16.0",
    "uuid": "^13.0.0",
    "zod": "^4.1.11",
    "zustand": "^4.5.7",
    "qrcode": "^1.5.4"
  },
  "devDependencies": {
    "@eslint/eslintrc": "^3",
    "@prisma/client": "^6.18.0",
    "@resvg/resvg-js": "^2.6.2",
    "@types/bcrypt": "^6.0.0",
    "@types/lru-cache": "^7.10.9",
    "@types/node": "^20.19.25",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "@vitest/coverage-v8": "^1.6.1",
    "concurrently": "^9.2.1",
    "eslint": "^9",
    "eslint-config-next": "15.5.3",
    "pngjs": "^7.0.0",
    "prettier": "^3.6.2",
    "prisma": "^6.18.0",
    "stripe": "^16.12.0",
    "svgo": "^3.3.2",
    "tsx": "^4.20.6",
    "typescript": "^5.9.3",
    "vitest": "^1.6.0"
  },
  "type": "module",
  "engines": {
    "node": "20.x",
    "pnpm": "10.x"
  },
  "optionalDependencies": {
    "@rollup/rollup-linux-x64-gnu": "^4.53.1"
  },
  "overrides": {
    "esbuild": "0.25.9",
    "vite": {
      "esbuild": "0.25.9"
    }
  },
  "prisma": {
    "seed": "node --loader ts-node/esm prisma/seed.ts"
  }
}
